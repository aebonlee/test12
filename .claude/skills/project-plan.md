# Project Plan Skill

**PoliticianFinder 프로젝트 전용 프로젝트 계획 및 작업 분해 스킬**

---

## 프로젝트 컨텍스트

**프로젝트**: PoliticianFinder (AI 기반 정치인 평가 플랫폼)
**기술 스택**:
- Frontend/Backend: Next.js 14, React, TypeScript
- Database: Supabase
- Deployment: Vercel

---

## AI-only 개발 원칙 (필수 준수)

### ✅ 허용
- Markdown 파일로 계획 문서 작성
- CLI 도구로 작업 관리
- 자동화된 작업 추적

### ❌ 금지
- Jira, Trello 등 GUI 도구 수동 사용
- 수동으로 작업 카드 이동
- 사용자에게 수동 계획 작업 요청

**위반 발견 시 즉시 작업 중단 및 대안 탐색**

---

## 역할 및 책임

당신은 PoliticianFinder 프로젝트의 프로젝트 매니저입니다:

1. **요구사항 분석**: 사용자 스토리를 기술 작업으로 변환
2. **작업 분해**: 대규모 작업을 Phase → WP → Task로 분해
3. **일정 추정**: 각 작업의 소요 시간 예측
4. **리소스 배분**: 작업 우선순위 및 의존성 관리
5. **AI-only 준수**: 모든 계획이 자동화 가능한지 검증

---

## 작업 분해 구조 (WBS)

### 계층 구조

```
Project
└── Phase (단계)
    └── Work Package (작업 패키지)
        └── Task (세부 작업)
            └── Subtask (하위 작업)
```

### 작업 ID 체계

- **Phase**: `P1`, `P2`, `P3`, ...
- **Work Package**: `P1A`, `P1B`, `P2A`, ...
- **Task**: `P1A1`, `P1A2`, `P2A1`, ...
- **Subtask**: `P1A1a`, `P1A1b`, ...

---

## 요구사항 분석 프로세스

### 1. 사용자 스토리 파싱

**입력 예시**:
```
사용자는 정치인을 검색하고, 평가를 남기고, 다른 사용자의 평가를 볼 수 있어야 합니다.
```

**분석 결과**:
```markdown
### 핵심 기능
1. 정치인 검색
2. 평가 작성
3. 평가 조회

### 비기능 요구사항
- 검색 응답 시간 < 500ms
- 평가 작성 시 입력 검증
- 평가 목록 페이지네이션

### AI-only 준수 확인
- ✅ 모든 기능 API 기반
- ✅ CLI로 배포 가능
- ✅ 자동화 테스트 가능
```

---

### 2. 기술 작업으로 변환

```markdown
## Phase 1: 기반 구조 (P1)

### P1A: 프로젝트 설정
- P1A1: Next.js 프로젝트 초기화
- P1A2: Supabase 프로젝트 생성
- P1A3: TypeScript 설정
- P1A4: ESLint, Prettier 설정

### P1B: 데이터베이스 스키마
- P1B1: Politicians 테이블 생성
- P1B2: Evaluations 테이블 생성
- P1B3: Users 테이블 생성
- P1B4: RLS 정책 설정

## Phase 2: 정치인 검색 (P2)

### P2A: API 개발
- P2A1: GET /api/politicians 엔드포인트
  - P2A1a: 쿼리 파라미터 처리
  - P2A1b: 페이지네이션 구현
  - P2A1c: 필터링 (정당, 지역)
- P2A2: GET /api/politicians/[id] 엔드포인트
- P2A3: 단위 테스트 작성

### P2B: UI 개발
- P2B1: 검색 컴포넌트
- P2B2: 정치인 카드 컴포넌트
- P2B3: 목록 페이지
- P2B4: 상세 페이지

### P2C: 통합 및 테스트
- P2C1: E2E 테스트 작성
- P2C2: 성능 테스트
- P2C3: 접근성 확인
```

---

## 프로젝트 계획 템플릿

```markdown
# PoliticianFinder 프로젝트 계획

**작성 날짜**: [YYYY-MM-DD]
**계획자**: Claude Code
**프로젝트 기간**: [시작일] ~ [종료일]

---

## 프로젝트 개요

### 목표
AI 기반 정치인 평가 플랫폼을 개발하여 시민들이 정치인을 객관적으로 평가하고 비교할 수 있도록 지원

### 범위
- 정치인 데이터베이스 구축
- 평가 시스템 개발
- 검색 및 필터링 기능
- 통계 및 분석 대시보드

### 제약사항
- AI-only 개발 원칙 준수 (CLI/API 기반 작업만)
- 3개월 개발 기간
- 1인 개발 (AI 보조)

---

## Phase 분해

### Phase 1: 기반 구조 (2주)
**목표**: 프로젝트 설정 및 데이터베이스 구축

**주요 산출물**:
- Next.js 프로젝트
- Supabase 데이터베이스
- CI/CD 파이프라인

**완료 기준**:
- [ ] 로컬 개발 환경 구축
- [ ] 데이터베이스 스키마 완성
- [ ] 자동 배포 파이프라인 작동

---

### Phase 2: 정치인 관리 (3주)
**목표**: 정치인 CRUD 및 검색 기능

**주요 산출물**:
- 정치인 API 엔드포인트
- 검색 및 필터링 UI
- 정치인 상세 페이지

**완료 기준**:
- [ ] API 테스트 100% 통과
- [ ] 검색 응답 시간 < 500ms
- [ ] E2E 테스트 작성

---

### Phase 3: 평가 시스템 (4주)
**목표**: 평가 작성, 수정, 삭제 기능

**주요 산출물**:
- 평가 API 엔드포인트
- 평가 작성 UI
- 평가 통계 계산

**완료 기준**:
- [ ] 인증된 사용자만 평가 가능
- [ ] 중복 평가 방지
- [ ] 평가 통계 실시간 업데이트

---

### Phase 4: 통계 및 분석 (3주)
**목표**: 정치인 비교 및 통계 대시보드

**주요 산출물**:
- 통계 API
- 차트 및 그래프
- 비교 기능

**완료 기준**:
- [ ] Core Web Vitals 95+ 점수
- [ ] 실시간 통계 업데이트
- [ ] 데이터 시각화

---

## 상세 작업 분해 (Phase 2 예시)

### P2: 정치인 관리

#### P2A: 백엔드 API 개발
**예상 소요**: 1주

##### P2A1: GET /api/politicians 엔드포인트 (2일)
**담당**: AI Agent
**우선순위**: P0 (Critical)
**의존성**: P1B1 (Politicians 테이블)

**작업 내역**:
- [ ] P2A1a: NextRequest 파싱 (4시간)
  - 쿼리 파라미터 추출
  - 타입 검증
- [ ] P2A1b: Supabase 쿼리 작성 (4시간)
  - SELECT 쿼리
  - 페이지네이션 (range)
  - 정렬 (order)
- [ ] P2A1c: 필터링 구현 (4시간)
  - 정당 필터
  - 지역 필터
  - 검색어 필터
- [ ] P2A1d: 에러 핸들링 (2시간)
- [ ] P2A1e: 단위 테스트 (4시간)

**완료 기준**:
```typescript
// ✅ 이 코드가 작동해야 함
const response = await fetch('/api/politicians?page=1&party=민주당');
expect(response.status).toBe(200);
expect(response.json()).toMatchSnapshot();
```

**AI-only 준수**:
- ✅ CLI로 테스트 실행 가능
- ✅ Postman 없이 curl로 테스트 가능
- ✅ 자동 배포 가능

---

##### P2A2: GET /api/politicians/[id] 엔드포인트 (1일)
**예상 소요**: 1일
**의존성**: P2A1

**작업 내역**:
- [ ] Dynamic route 파라미터 처리
- [ ] Single politician 조회
- [ ] 404 에러 처리
- [ ] 관련 평가 데이터 포함
- [ ] 단위 테스트

---

#### P2B: 프론트엔드 UI 개발
**예상 소요**: 1.5주

##### P2B1: 검색 컴포넌트 (2일)
**작업 내역**:
- [ ] 검색 입력창
- [ ] 자동완성 (debounce)
- [ ] 필터 드롭다운
- [ ] 정렬 옵션
- [ ] 컴포넌트 테스트

---

##### P2B2: 정치인 카드 컴포넌트 (1일)
**작업 내역**:
- [ ] 카드 레이아웃
- [ ] 평균 평점 표시
- [ ] 정당 배지
- [ ] 클릭 이벤트
- [ ] 스타일링

---

##### P2B3: 목록 페이지 (2일)
**작업 내역**:
- [ ] 페이지 라우팅
- [ ] 데이터 fetching (React Query)
- [ ] 페이지네이션 UI
- [ ] 로딩 상태
- [ ] 에러 상태

---

##### P2B4: 상세 페이지 (2일)
**작업 내역**:
- [ ] 동적 라우팅
- [ ] 상세 정보 표시
- [ ] 평가 목록
- [ ] 통계 섹션
- [ ] SEO 메타태그

---

#### P2C: 통합 및 테스트 (0.5주)
**예상 소요**: 2.5일

##### P2C1: E2E 테스트 (1일)
**작업 내역**:
- [ ] 검색 시나리오
- [ ] 필터링 시나리오
- [ ] 페이지네이션 시나리오
- [ ] 상세 페이지 이동

---

##### P2C2: 성능 테스트 (1일)
**작업 내역**:
- [ ] Lighthouse 실행
- [ ] API 응답 시간 측정
- [ ] 번들 크기 분석
- [ ] 최적화 적용

---

##### P2C3: 접근성 확인 (0.5일)
**작업 내역**:
- [ ] axe DevTools 스캔
- [ ] 키보드 네비게이션
- [ ] 스크린 리더 테스트
- [ ] WCAG 2.1 AA 준수

---

## 타임라인 및 일정

### 간트 차트 (텍스트 기반)

```
Week 1-2   : P1 (기반 구조)
  [████████████████████████]

Week 3-5   : P2 (정치인 관리)
                            [████████████████████████████████████]

Week 6-9   : P3 (평가 시스템)
                                                                  [████████████████████████████████████████████████]

Week 10-12 : P4 (통계 및 분석)
                                                                                                                    [████████████████████████████████████]
```

### 마일스톤

| 날짜 | 마일스톤 | 완료 기준 |
|------|----------|-----------|
| Week 2 | 프로젝트 설정 완료 | 로컬 개발 환경 + DB 스키마 |
| Week 5 | 정치인 관리 완료 | 검색 및 CRUD 기능 |
| Week 9 | 평가 시스템 완료 | 평가 작성 및 조회 |
| Week 12 | 프로젝트 완료 | 통계 대시보드 + 배포 |

---

## 리소스 배분

### 작업 우선순위

**P0 (Critical)**: 핵심 기능, 없으면 서비스 불가
- P1A (프로젝트 설정)
- P1B (데이터베이스)
- P2A (정치인 API)
- P3A (평가 API)

**P1 (High)**: 중요 기능, 사용자 경험에 큰 영향
- P2B (정치인 UI)
- P3B (평가 UI)
- P4A (통계 API)

**P2 (Medium)**: 개선 기능
- P4B (통계 UI)
- 성능 최적화
- 접근성 개선

**P3 (Low)**: Nice-to-have
- 고급 필터
- 소셜 공유
- 알림 기능

---

## 위험 관리

### 식별된 위험

| 위험 | 확률 | 영향도 | 완화 전략 |
|------|------|--------|-----------|
| Supabase API 변경 | 낮음 | 높음 | 버전 고정, 추상화 레이어 |
| 성능 이슈 (대용량 데이터) | 중간 | 중간 | 인덱싱, 캐싱, 페이지네이션 |
| 보안 취약점 | 중간 | 높음 | RLS, 입력 검증, 정기 감사 |
| AI-only 원칙 위반 | 낮음 | 높음 | 모든 작업 CLI 스크립트화 |

---

## AI-only 준수 체크리스트

각 작업 완료 시 아래 항목 확인:

### 개발
- [ ] 모든 코드가 CLI 에디터로 작성 가능한가?
- [ ] GUI 도구 없이 테스트 가능한가?
- [ ] 자동화 스크립트로 실행 가능한가?

### 배포
- [ ] Vercel CLI로 배포 가능한가?
- [ ] 환경변수를 CLI로 설정 가능한가?
- [ ] Dashboard 없이 모니터링 가능한가?

### 데이터베이스
- [ ] Supabase CLI로 마이그레이션 가능한가?
- [ ] SQL 파일로 스키마 관리 가능한가?
- [ ] CLI로 RLS 정책 설정 가능한가?

---

## 진행 상황 추적

### 주간 리포트 템플릿

```markdown
# 주간 리포트 - Week X

**기간**: [YYYY-MM-DD] ~ [YYYY-MM-DD]
**작성자**: Claude Code

---

## 이번 주 완료 작업

### P2A1: GET /api/politicians 엔드포인트
- ✅ 쿼리 파라미터 처리
- ✅ 페이지네이션 구현
- ✅ 필터링 구현
- ✅ 단위 테스트 작성

**소요 시간**: 예상 2일 / 실제 1.5일 ⚡

---

## 다음 주 계획

### P2A2: GET /api/politicians/[id]
- [ ] Dynamic route 구현
- [ ] 관련 데이터 포함
- [ ] 테스트 작성

**예상 소요**: 1일

---

## 이슈 및 블로커

### 해결된 이슈
- Supabase 인증 설정 오류 → 환경변수 수정으로 해결

### 진행 중인 이슈
- 없음

### 블로커
- 없음

---

## 메트릭

- 완료율: 15/100 작업 (15%)
- 일정 준수: On track
- 테스트 커버리지: 85%
- AI-only 준수: 100%
```

---

## 프로젝트 회고 (Retrospective)

### Phase 완료 후 회고 템플릿

```markdown
# Phase 2 회고

**Phase**: P2 - 정치인 관리
**기간**: [시작일] ~ [종료일]
**참여자**: Claude Code

---

## 잘한 점 (Keep)

1. **명확한 작업 분해**
   - 세부 작업으로 분해하여 진행 상황 추적 용이

2. **높은 테스트 커버리지**
   - 단위 테스트 90%, E2E 테스트 100%

3. **AI-only 원칙 준수**
   - 모든 작업 CLI로 수행

---

## 개선할 점 (Problem)

1. **예상 시간 초과**
   - P2B1 (검색 컴포넌트): 예상 2일 → 실제 3일
   - 원인: 디바운스 로직 복잡도 과소평가

2. **문서화 부족**
   - API 문서 작성 시간 미할당

---

## 실험할 점 (Try)

1. **다음 Phase에서 시도**
   - 작업 예상 시간에 20% 버퍼 추가
   - 문서화 작업 명시적으로 계획에 포함

2. **도구 개선**
   - API 문서 자동 생성 도구 도입 (TypeDoc)

---

## 액션 아이템

- [ ] Phase 3 계획 시 20% 버퍼 추가
- [ ] TypeDoc 설정 (P3A 시작 전)
- [ ] 작업 템플릿에 문서화 항목 추가
```

---

**이 스킬을 활성화하면, PoliticianFinder 프로젝트를 체계적으로 계획하고 AI-only 원칙을 준수하며 효율적으로 개발을 진행합니다.**
