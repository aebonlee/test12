# S4F1 Verification

## 검증 대상

- **Task ID**: S4F1
- **Task Name**: Deal 뉴스 트래커 및 투자 모니터
- **Stage**: S4 (External Integration - 개발 3차)
- **Area**: F (Frontend)

## 검증자

**Verification Agent**: qa-specialist

---

## 검증 체크리스트

### 1. 빌드 & 컴파일 (최우선)

- [ ] **TypeScript 빌드 성공** (`npm run build`)
- [ ] **Next.js 빌드 성공** (페이지 렌더링 확인)
- [ ] **ESLint 경고 0개** (`npm run lint`)

---

### 2. 파일 생성 확인

- [ ] **`app/deal/page.tsx` 존재** - Deal 뉴스 페이지
- [ ] **`app/link/page.tsx` 존재** - 네트워크/연결 페이지

---

### 3. 핵심 기능 테스트

#### 3.1 Deal 뉴스 페이지 (`app/deal/page.tsx`)

- [ ] **페이지 렌더링**
  - 로딩 스피너 표시
  - 데이터 로드 완료 후 콘텐츠 표시

- [ ] **Supabase 연동**
  - `investment_tracker` 테이블 조회
  - 최신순 정렬 (published_date DESC)
  - 최대 100개 조회

- [ ] **검색 기능**
  - 기업명으로 검색
  - 투자자명으로 검색
  - 실시간 필터링

- [ ] **필터링 기능**
  - 투자 단계 필터 (시드, 프리A, 시리즈A 등)
  - 업종 필터 (AI, 헬스케어, 핀테크 등)
  - 중복 필터 적용 (투자단계 + 업종)

- [ ] **통계 카드**
  - 총 Deal 수 정확히 표시
  - 이번 주 투자 건수 (최근 7일)
  - 참여 기업 수 (중복 제거)

- [ ] **Deal 목록 표시**
  - 기업명, 투자단계, 투자금액, 업종
  - 투자자 목록 (쉼표로 구분)
  - 발행일, 출처
  - 기사 링크 (새 탭에서 열기)

- [ ] **UI/UX**
  - 반응형 디자인 (모바일/태블릿)
  - 호버 효과
  - 색상 테마 일관성

#### 3.2 네트워크 페이지 (`app/link/page.tsx`)

- [ ] **투자자-기업 연결 집계**
  - `investment_tracker` 테이블에서 investors 필드 추출
  - 투자자별 포트폴리오 그룹핑
  - 투자 횟수 계산

- [ ] **정렬**
  - 투자 횟수 내림차순
  - 상위 투자자부터 표시

- [ ] **투자자별 포트폴리오 표시**
  - 투자자명
  - 투자 기업 목록 (쉼표로 구분)
  - 투자 횟수 뱃지

- [ ] **UI/UX**
  - 카드 레이아웃
  - 스크롤 가능
  - 로딩 상태 표시

---

### 4. 통합 테스트

#### 4.1 선행 Task 연동

- [ ] **S1BI1 (Supabase Client)**
  - `createClient()` 정상 작동
  - `investment_tracker` 테이블 접근 가능

- [ ] **S4E2 (News Parser)**
  - 파싱된 데이터가 DB에 저장되어 있는지 확인
  - Deal 정보 필드 (company_name, investment_stage, investors 등) 존재

#### 4.2 데이터 흐름 검증

- [ ] **크롤러 → DB → Frontend 흐름**
  - 크롤러가 수집한 데이터가 `investment_tracker` 테이블에 저장
  - Frontend에서 데이터 조회 및 표시

- [ ] **실시간 업데이트**
  - 새 데이터 추가 시 페이지 새로고침으로 반영 확인

---

### 5. Blocker 확인

- [ ] **의존성 차단**
  - S1BI1 (Supabase Client) 완료 확인
  - S4E2 (News Parser) 완료 확인

- [ ] **환경 차단**
  - Supabase URL/KEY 설정 확인
  - `investment_tracker` 테이블 존재 확인
  - RLS 정책 설정 확인

- [ ] **외부 API 차단**
  - 없음 (Supabase만 사용)

---

## 합격 기준

### 필수 (Must Pass)

1. **빌드 성공** ✅
2. **2개 페이지 생성 완료** ✅
3. **Deal 뉴스 페이지 렌더링** ✅
4. **검색/필터 기능 작동** ✅
5. **통계 카드 정확** ✅
6. **네트워크 페이지 집계 정확** ✅

### 권장 (Nice to Pass)

1. **네트워크 그래프 시각화** ✨
2. **엑셀 내보내기** ✨
3. **투자 트렌드 차트** ✨

---

## 검증 결과

**Status**: [ ] Pass / [ ] Fail

---

## 주의사항

1. **데이터 존재 여부**
   - `investment_tracker` 테이블에 데이터가 없으면 "검색 결과 없음" 표시
   - 최소 10개 테스트 데이터 삽입 권장

2. **필터링 정확도**
   - 투자단계/업종 필터가 정확히 매칭되는지 확인
   - 필터 초기화 시 전체 데이터 표시

3. **투자자 중복 제거**
   - 네트워크 페이지에서 같은 투자자가 여러 번 표시되지 않도록 확인

4. **외부 링크**
   - 기사 링크가 `_blank` (새 탭)로 열리는지 확인
   - `rel="noopener noreferrer"` 속성 확인

5. **반응형 디자인**
   - 모바일/태블릿에서 레이아웃 깨지지 않는지 확인
   - grid-cols-1 (모바일), grid-cols-3 (데스크톱) 확인

---

## PO 테스트 가이드

### 1. Deal 뉴스 페이지 테스트

```
1. 브라우저에서 /deal 페이지 접속
2. 로딩 후 Deal 목록 표시 확인
3. 검색창에 기업명 입력 → 필터링 확인
4. 투자단계 필터 선택 → 필터링 확인
5. 통계 카드 수치 확인 (총 Deal 수, 이번 주 투자 등)
6. "기사 보기" 버튼 클릭 → 새 탭에서 기사 열림 확인
```

### 2. 네트워크 페이지 테스트

```
1. 브라우저에서 /link 페이지 접속
2. 투자자별 포트폴리오 목록 표시 확인
3. 투자 횟수 뱃지 확인
4. 투자 기업 목록 확인 (쉼표로 구분)
5. 내림차순 정렬 확인 (투자 횟수 많은 순)
```

---

## 참조

- Task Instruction: `task-instructions/S4F1_instruction.md`
- 기존 프로토타입:
  - `frontend/app/deal.html` (2497줄)
  - `frontend/app/link.html` (959줄)

---

**작성일**: 2026-02-06
**작성자**: Claude Code (Sonnet 4.5)
