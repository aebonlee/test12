# S2F2 Verification

## ê²€ì¦ ëŒ€ìƒ

- **Task ID**: S2F2
- **Task Name**: í‰ê°€ ì‹ ì²­ í¼ í…œí”Œë¦¿ ë° 5ê°œ ë°©ë²•ë³„ í˜ì´ì§€
- **Stage**: S2 (Core Platform - ê°œë°œ 1ì°¨)
- **Area**: F (Frontend)

## ê²€ì¦ì

**Verification Agent**: code-reviewer

---

## ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 1. ë¹Œë“œ & ì»´íŒŒì¼ (ìµœìš°ì„ )

#### 1.1 TypeScript ë¹Œë“œ ì„±ê³µ

- [ ] **TypeScript íƒ€ì… ì²´í‚¹ ì„±ê³µ**
  - ëª…ë ¹ì–´: `npm run type-check`
  - ì¶œë ¥: `0 errors`

#### 1.2 Next.js ë¹Œë“œ ì„±ê³µ

- [ ] **Next.js í”„ë¡œì íŠ¸ ë¹Œë“œ ì„±ê³µ**
  - ëª…ë ¹ì–´: `npm run build`
  - ì¶œë ¥: `âœ“ Compiled successfully`

#### 1.3 ESLint ê²½ê³  0ê°œ

- [ ] **ESLint ê²€ì‚¬ í†µê³¼**
  - ëª…ë ¹ì–´: `npm run lint`
  - ì¶œë ¥: ESLint ì—ëŸ¬/ê²½ê³  ì—†ìŒ

---

### 2. íŒŒì¼ ìƒì„± í™•ì¸

#### 2.1 íƒ€ì… ì •ì˜ íŒŒì¼

- [ ] **`types/submission.ts` íŒŒì¼ ì¡´ì¬**
  - ëª…ë ¹ì–´: `ls types/submission.ts`
  - ë‚´ìš©: `BaseSubmissionForm`, `DCFFormData`, `RelativeFormData`, `AssetFormData`, `IntrinsicFormData`, `TaxFormData` íƒ€ì… ì •ì˜

#### 2.2 ê³µí†µ í…œí”Œë¦¿ ì»´í¬ë„ŒíŠ¸

- [ ] **`components/submission-form-template.tsx` íŒŒì¼ ì¡´ì¬**
  - ëª…ë ¹ì–´: `ls components/submission-form-template.tsx`
  - Props: `method`, `title`, `description`, `children`, `onSubmit`, `onSaveDraft`, `isSubmitting`
  - Export: `SubmissionFormTemplate` ì»´í¬ë„ŒíŠ¸

#### 2.3 5ê°œ í‰ê°€ ì‹ ì²­ í¼ í˜ì´ì§€

- [ ] **`app/valuation/submissions/dcf/page.tsx` ì¡´ì¬**
  - DCF í‰ê°€ ì‹ ì²­ í¼
  - 5ë…„ ë§¤ì¶œ ì˜ˆì¸¡ ì…ë ¥

- [ ] **`app/valuation/submissions/relative/page.tsx` ì¡´ì¬**
  - Relative í‰ê°€ ì‹ ì²­ í¼
  - ìœ ì‚¬ê¸°ì—… ì¶”ê°€ ê¸°ëŠ¥

- [ ] **`app/valuation/submissions/asset/page.tsx` ì¡´ì¬**
  - Asset í‰ê°€ ì‹ ì²­ í¼
  - ìì‚° í•­ëª© ì¶”ê°€ ê¸°ëŠ¥

- [ ] **`app/valuation/submissions/intrinsic/page.tsx` ì¡´ì¬**
  - Intrinsic í‰ê°€ ì‹ ì²­ í¼
  - ì„±ì¥ë¥  ì‹œë‚˜ë¦¬ì˜¤ ì…ë ¥

- [ ] **`app/valuation/submissions/tax/page.tsx` ì¡´ì¬**
  - Tax í‰ê°€ ì‹ ì²­ í¼
  - ì„¸ë²•ìƒ í‰ê°€ ëª©ì  ì„ íƒ

---

### 3. í•µì‹¬ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

#### 3.1 íƒ€ì… ì •ì˜ ì¼ê´€ì„±

- [ ] **ëª¨ë“  í¼ ë°ì´í„° íƒ€ì…ì´ `BaseSubmissionForm` í™•ì¥**
  - `DCFFormData extends BaseSubmissionForm`
  - `RelativeFormData extends BaseSubmissionForm`
  - ë“±ë“±...

- [ ] **`valuation_method` í•„ë“œ íƒ€ì… í™•ì¸**
  - `'dcf' | 'relative' | 'asset' | 'intrinsic' | 'tax'`

#### 3.2 í…œí”Œë¦¿ ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©

- [ ] **5ê°œ ì‹ ì²­ í¼ í˜ì´ì§€ ëª¨ë‘ `SubmissionFormTemplate` ì‚¬ìš©**
  - ê° í˜ì´ì§€ì—ì„œ import í™•ì¸
  - `<SubmissionFormTemplate method="dcf" ...>` í˜•ì‹

#### 3.3 í¼ ì œì¶œ ë¡œì§

- [ ] **`handleSubmit` í•¨ìˆ˜ êµ¬í˜„**
  - í”„ë¡œì íŠ¸ ìƒì„± API í˜¸ì¶œ (`/api/projects`)
  - ì…ë ¥ ë°ì´í„°ë¥¼ `documents` í…Œì´ë¸”ì— JSONìœ¼ë¡œ ì €ì¥
  - ì œì¶œ í›„ í”„ë¡œì íŠ¸ ìƒì„¸ í˜ì´ì§€ë¡œ ë¦¬ë””ë ‰ì…˜

#### 3.4 ì„ì‹œ ì €ì¥ (Draft) ê¸°ëŠ¥

- [ ] **`handleSaveDraft` í•¨ìˆ˜ êµ¬í˜„**
  - ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— í¼ ë°ì´í„° ì €ì¥
  - ë˜ëŠ” Supabase `drafts` í…Œì´ë¸”ì— ì €ì¥

#### 3.5 í¼ ìœ íš¨ì„± ê²€ì‚¬

- [ ] **í•„ìˆ˜ í•„ë“œ ê²€ì¦**
  - `project_name`, `company_name`, `industry` í•„ìˆ˜
  - ë¹ˆ ê°’ ì œì¶œ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ

- [ ] **ìˆ«ì í•„ë“œ ê²€ì¦**
  - ë§¤ì¶œ, ê¸ˆì•¡ ë“± ìˆ«ì í•„ë“œëŠ” `number` íƒ€ì…
  - ìŒìˆ˜ ì…ë ¥ ë°©ì§€

- [ ] **ì´ë©”ì¼ í˜•ì‹ ê²€ì¦**
  - ì´ë©”ì¼ í•„ë“œëŠ” ì •ê·œì‹ ê²€ì¦

#### 3.6 DCF í¼ íŠ¹ìˆ˜ ê¸°ëŠ¥

- [ ] **5ë…„ ë§¤ì¶œ ì˜ˆì¸¡ ì…ë ¥**
  - 5ê°œ input í•„ë“œ (Year 1~5)
  - ë°°ì—´ ë°ì´í„° êµ¬ì¡° (`revenue_5years: number[]`)

#### 3.7 Relative í¼ íŠ¹ìˆ˜ ê¸°ëŠ¥

- [ ] **ìœ ì‚¬ê¸°ì—… ì¶”ê°€/ì‚­ì œ ê¸°ëŠ¥**
  - "ìœ ì‚¬ê¸°ì—… ì¶”ê°€" ë²„íŠ¼
  - ë™ì  í¼ í•„ë“œ ì¶”ê°€
  - ì‚­ì œ ë²„íŠ¼ (X ì•„ì´ì½˜)

#### 3.8 Asset í¼ íŠ¹ìˆ˜ ê¸°ëŠ¥

- [ ] **ìì‚° í•­ëª© ì¶”ê°€/ì‚­ì œ ê¸°ëŠ¥**
  - "ìì‚° ì¶”ê°€" ë²„íŠ¼
  - ë™ì  í¼ í•„ë“œ ì¶”ê°€

---

### 4. í†µí•© í…ŒìŠ¤íŠ¸

#### 4.1 ì„ í–‰ Task í˜¸í™˜

- [ ] **S1BI1 (Supabase í´ë¼ì´ì–¸íŠ¸) ì˜ì¡´ì„± ì¶©ì¡±**
  - `@/lib/supabase/client` import ê°€ëŠ¥

- [ ] **S1D1 (Database Schema) ì˜ì¡´ì„± ì¶©ì¡±**
  - `projects`, `documents` í…Œì´ë¸” ì¡´ì¬

#### 4.2 í›„í–‰ Task ì¤€ë¹„

- [ ] **S2BA2 (Projects API) ì—°ê²° ì¤€ë¹„**
  - í¼ ì œì¶œ ì‹œ `/api/projects` í˜¸ì¶œ

#### 4.3 ë°ì´í„° íë¦„ ê²€ì¦

- [ ] **í¼ ì œì¶œ â†’ í”„ë¡œì íŠ¸ ìƒì„± â†’ ë¦¬ë””ë ‰ì…˜**
  - ì œì¶œ ì„±ê³µ ì‹œ `/projects/{project_id}` í˜ì´ì§€ë¡œ ì´ë™

---

### 5. Blocker í™•ì¸

#### 5.1 ì˜ì¡´ì„± ì°¨ë‹¨

- [ ] **S1BI1 ì™„ë£Œ í™•ì¸**
  - Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì • ì™„ë£Œ

- [ ] **S1D1 ì™„ë£Œ í™•ì¸**
  - `projects`, `documents` í…Œì´ë¸” ìƒì„± ì™„ë£Œ

#### 5.2 í™˜ê²½ ì°¨ë‹¨

- [ ] **React Hook Form ì„¤ì¹˜ í™•ì¸ (ì„ íƒ ì‚¬í•­)**
  - ëª…ë ¹ì–´: `npm list react-hook-form`
  - ì‚¬ìš© ì‹œ ë²„ì „ í™•ì¸

#### 5.3 ì™¸ë¶€ API ì°¨ë‹¨

- [ ] **Supabase ì—°ê²° í•„ìš”**
  - í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ í™•ì¸

---

### 6. UI/UX ê²€ì¦

#### 6.1 í˜ì´ì§€ ë Œë”ë§ í™•ì¸

- [ ] **ê°œë°œ ì„œë²„ ì‹¤í–‰ í›„ ê° í˜ì´ì§€ ì ‘ì†**
  - `/valuation/submissions/dcf` ì ‘ì† ê°€ëŠ¥
  - `/valuation/submissions/relative` ì ‘ì† ê°€ëŠ¥
  - `/valuation/submissions/asset` ì ‘ì† ê°€ëŠ¥
  - `/valuation/submissions/intrinsic` ì ‘ì† ê°€ëŠ¥
  - `/valuation/submissions/tax` ì ‘ì† ê°€ëŠ¥

#### 6.2 í¼ ë ˆì´ì•„ì›ƒ ì¼ê´€ì„±

- [ ] **ëª¨ë“  ì‹ ì²­ í¼ ë ˆì´ì•„ì›ƒ ë™ì¼**
  - í—¤ë”, ë³¸ë¬¸, ë²„íŠ¼ ìœ„ì¹˜ ì¼ì¹˜

#### 6.3 ë²„íŠ¼ ìƒíƒœ ê´€ë¦¬

- [ ] **ì œì¶œ ì¤‘ ë¡œë”© ìƒíƒœ**
  - `isSubmitting` ìƒíƒœë¡œ ë²„íŠ¼ ë¹„í™œì„±í™”
  - ë¡œë”© ìŠ¤í”¼ë„ˆ í‘œì‹œ

#### 6.4 ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ

- [ ] **ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€**
  - í•„ë“œë³„ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
  - ë¹¨ê°„ìƒ‰ í…Œë‘ë¦¬ í‘œì‹œ

---

## í•©ê²© ê¸°ì¤€

### í•„ìˆ˜ (Must Pass)

1. **TypeScript ë¹Œë“œ ì„±ê³µ** âœ…
   - `npm run type-check` ì—ëŸ¬ ì—†ìŒ

2. **Next.js ë¹Œë“œ ì„±ê³µ** âœ…
   - `npm run build` ì„±ê³µ

3. **ESLint ê²½ê³  0ê°œ** âœ…
   - `npm run lint` ì—ëŸ¬/ê²½ê³  ì—†ìŒ

4. **ëª¨ë“  íŒŒì¼ ìƒì„± ì™„ë£Œ** âœ…
   - `types/submission.ts`
   - `components/submission-form-template.tsx`
   - 5ê°œ ì‹ ì²­ í¼ í˜ì´ì§€

5. **í…œí”Œë¦¿ ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©** âœ…
   - 5ê°œ í˜ì´ì§€ ëª¨ë‘ `SubmissionFormTemplate` ì‚¬ìš©

6. **í¼ ì œì¶œ ë¡œì§ êµ¬í˜„** âœ…
   - `handleSubmit` í•¨ìˆ˜
   - í”„ë¡œì íŠ¸ ìƒì„± API í˜¸ì¶œ

7. **í¼ ìœ íš¨ì„± ê²€ì‚¬** âœ…
   - í•„ìˆ˜ í•„ë“œ ê²€ì¦
   - ìˆ«ì í•„ë“œ ê²€ì¦

### ê¶Œì¥ (Nice to Pass)

1. **ì„ì‹œ ì €ì¥ ê¸°ëŠ¥ êµ¬í˜„** âœ¨
   - ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ë˜ëŠ” Supabase ì €ì¥

2. **ë™ì  í¼ í•„ë“œ ì™„ì„±ë„** âœ¨
   - ìœ ì‚¬ê¸°ì—… ì¶”ê°€/ì‚­ì œ
   - ìì‚° í•­ëª© ì¶”ê°€/ì‚­ì œ

3. **ì—ëŸ¬ ì²˜ë¦¬ ì™„ì„±ë„** âœ¨
   - API í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€

---

## ê²€ì¦ ê²°ê³¼

### Pass/Fail

**Status**: [ ] Pass / [ ] Fail

**ê²€ì¦ì¼**: _______________

**ê²€ì¦ì**: _______________

### ë°œê²¬ ì‚¬í•­

#### ğŸŸ¢ í†µê³¼ í•­ëª©

- (í†µê³¼í•œ í•­ëª© ë‚˜ì—´)

#### ğŸ”´ ì‹¤íŒ¨ í•­ëª©

- (ì‹¤íŒ¨í•œ í•­ëª© ë‚˜ì—´ ë° ìˆ˜ì • í•„ìš” ì‚¬í•­)

#### ğŸŸ¡ ê²½ê³  ì‚¬í•­

- (ê²½ê³  ë˜ëŠ” ê°œì„  ê¶Œì¥ ì‚¬í•­)

---

## ì£¼ì˜ì‚¬í•­

1. **íƒ€ì… ì•ˆì „ì„±**
   - í¼ ë°ì´í„°ëŠ” íƒ€ì… ì •ì˜ë¥¼ ë”°ë¼ì•¼ í•¨
   - `any` íƒ€ì… ì‚¬ìš© ê¸ˆì§€

2. **í…œí”Œë¦¿ íŒ¨í„´**
   - ê³µí†µ í…œí”Œë¦¿ìœ¼ë¡œ ì¤‘ë³µ ì½”ë“œ ìµœì†Œí™”
   - 5ê°œ í˜ì´ì§€ ë ˆì´ì•„ì›ƒ ì¼ê´€ì„± ìœ ì§€

3. **ë°ì´í„° ì €ì¥ ìœ„ì¹˜**
   - ì…ë ¥ ë°ì´í„°ëŠ” `documents` í…Œì´ë¸”ì— JSONìœ¼ë¡œ ì €ì¥
   - `document_type: 'input_data'`

4. **ìœ íš¨ì„± ê²€ì‚¬**
   - í´ë¼ì´ì–¸íŠ¸ ê²€ì¦ + ì„œë²„ ê²€ì¦ (APIì—ì„œ)
   - XSS ë°©ì§€ (ì…ë ¥ sanitization)

5. **ì‚¬ìš©ì ê²½í—˜**
   - ë¡œë”© ìƒíƒœ í‘œì‹œ
   - ì—ëŸ¬ ë©”ì‹œì§€ ëª…í™•íˆ
   - ì œì¶œ í›„ ë¦¬ë””ë ‰ì…˜

---

## ì°¸ì¡°

- Task Instruction: `task-instructions/S2F2_instruction.md`
- React Hook Form: https://react-hook-form.com/ (ì„ íƒ ì‚¬í•­)
- Next.js Forms: https://nextjs.org/docs/app/building-your-application/data-fetching/forms-and-mutations

---

**ì‘ì„±ì¼**: 2026-02-05
**ì‘ì„±ì**: Claude Code (Sonnet 4.5)
